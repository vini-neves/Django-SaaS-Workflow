{% extends "projects/base.html" %}
{% load static %}

{% block title %}Central de Mídia{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'css/media_manager.css' %}">
{% endblock %}

{% block content %}
<div class="page-container">
    
    <div class="header-wrapper">
        <div>
            <h1 class="page-title">Central de Mídia</h1>
            <p style="color: #6B7280; margin-top: 5px;">Selecione um cliente para acessar os arquivos</p>
        </div>
    </div>

    <div class="media-container">
        
        <div class="section-title">
            {{ clients.count }} clientes encontrados
        </div>

        <div class="media-grid">
            {% for client in clients %}
                <a href="{% url 'media_root' client.id %}" class="folder-card">
                    
                    <div class="folder-visual">
                        <i data-feather="star" class="star-icon"></i>

                        {% if client.logo %}
                            <img src="{{ client.logo.url }}" alt="{{ client.name }}" class="client-logo-img">
                        {% else %}
                            <span style="font-size: 32px; font-weight: bold; color: #928353; opacity: 0.5;">
                                {{ client.name|slice:":1" }}
                            </span>
                        {% endif %}
                    </div>

                    <div class="folder-info">
                        <span class="folder-name">{{ client.name }}</span>
                        <span class="folder-meta">{{ client.folders.count }} pastas</span>
                    </div>
                </a>
            {% empty %}
                <div style="grid-column: 1/-1; text-align: center; padding: 40px; color: #6B7280;">
                    <p>Nenhum cliente cadastrado.</p>
                </div>
            {% endfor %}
        </div>

    </div>
</div>
{% endblock %}

{% block extra_js %}
    <script src="https://unpkg.com/feather-icons"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            feather.replace();
        });
    </script>
{% endblock %}